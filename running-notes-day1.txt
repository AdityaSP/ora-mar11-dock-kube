login as: docker
docker@192.168.99.100's password:
                         _             _
            _         _ ( )           ( )
  ___ ___  (_)  ___  (_)| |/')  _   _ | |_      __
/' _ ` _ `\| |/' _ `\| || , <  ( ) ( )| '_`\  /'__`\
| ( ) ( ) || || ( ) || || |\`\ | (_) || |_) )(  ___/
(_) (_) (_)(_)(_) (_)(_)(_) (_)`\___/'(_,__/'`\____)

$ export PS1='\n$PWD
> '

/home/docker
export PS1='\n$PWD> '

/home/docker>

/home/docker> ps -ef | grep dockerd
root      8395     1  5 05:02 ?        00:02:52 /usr/bin/dockerd -H tcp://0.0.0.0:2376 -H unix:///var/run/docker.sock --tlsverify --tlscacert /etc/docker/ca.pem --tlscert /etc/docker/server.pem --tlskey /etc/docker/server-key.pem --label provider=virtualbox --insecure-registry 10.96.0.0/12
docker   21097 15438  0 05:54 pts/1    00:00:00 grep dockerd

/home/docker> docker version
Client:
 Version:      17.09.0-ce
 API version:  1.32
 Go version:   go1.8.3
 Git commit:   afdb6d4
 Built:        Tue Sep 26 22:39:28 2017
 OS/Arch:      linux/amd64

Server:
 Version:      17.09.0-ce
 API version:  1.32 (minimum version 1.12)
 Go version:   go1.8.3
 Git commit:   afdb6d4
 Built:        Tue Sep 26 22:45:38 2017
 OS/Arch:      linux/amd64
 Experimental: false

/home/docker> docker

Usage:  docker COMMAND

A self-sufficient runtime for containers

Options:
      --config string      Location of client config files (default
                           "/home/docker/.docker")
  -D, --debug              Enable debug mode
      --help               Print usage
  -H, --host list          Daemon socket(s) to connect to
  -l, --log-level string   Set the logging level
                           ("debug"|"info"|"warn"|"error"|"fatal")
                           (default "info")
      --tls                Use TLS; implied by --tlsverify
      --tlscacert string   Trust certs signed only by this CA (default
                           "/home/docker/.docker/ca.pem")
      --tlscert string     Path to TLS certificate file (default
                           "/home/docker/.docker/cert.pem")
      --tlskey string      Path to TLS key file (default
                           "/home/docker/.docker/key.pem")
      --tlsverify          Use TLS and verify the remote
  -v, --version            Print version information and quit

Management Commands:
  config      Manage Docker configs
  container   Manage containers
  image       Manage images
  network     Manage networks
  node        Manage Swarm nodes
  plugin      Manage plugins
  secret      Manage Docker secrets
  service     Manage services
  stack       Manage Docker stacks
  swarm       Manage Swarm
  system      Manage Docker
  volume      Manage volumes

Commands:
  attach      Attach local standard input, output, and error streams to a running container
  build       Build an image from a Dockerfile
  commit      Create a new image from a container's changes
  cp          Copy files/folders between a container and the local filesystem
  create      Create a new container
  diff        Inspect changes to files or directories on a container's filesystem
  events      Get real time events from the server
  exec        Run a command in a running container
  export      Export a container's filesystem as a tar archive
  history     Show the history of an image
  images      List images
  import      Import the contents from a tarball to create a filesystem image
  info        Display system-wide information
  inspect     Return low-level information on Docker objects
  kill        Kill one or more running containers
  load        Load an image from a tar archive or STDIN
  login       Log in to a Docker registry
  logout      Log out from a Docker registry
  logs        Fetch the logs of a container
  pause       Pause all processes within one or more containers
  port        List port mappings or a specific mapping for the container
  ps          List containers
  pull        Pull an image or a repository from a registry
  push        Push an image or a repository to a registry
  rename      Rename a container
  restart     Restart one or more containers
  rm          Remove one or more containers
  rmi         Remove one or more images
  run         Run a command in a new container
  save        Save one or more images to a tar archive (streamed to STDOUT by default)
  search      Search the Docker Hub for images
  start       Start one or more stopped containers
  stats       Display a live stream of container(s) resource usage statistics
  stop        Stop one or more running containers
  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE
  top         Display the running processes of a container
  unpause     Unpause all processes within one or more containers
  update      Update configuration of one or more containers
  version     Show the Docker version information
  wait        Block until one or more containers stop, then print their exit codes

Run 'docker COMMAND --help' for more information on a command.

/home/docker> docker

/home/docker> docker container ls
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
07e2ff6d2090        gcr.io/google-containers/kube-addon-manager                      "/opt/kube-addons.sh"    About an hour ago   Up About an hour                                                                         k8s_kube-addon-manager_kube-addon-manager-minikube_kube-system_c4c3188325a93a2d7fb1714e1abf1259_16
807bd7e12b4b        k8s.gcr.io/k8s-dns-sidecar-amd64                                 "/sidecar --v=2 --..."   About an hour ago   Up About an hour                                                                         k8s_sidecar_kube-dns-54cccfbdf8-f5fbr_kube-system_aba5849a-2f94-11e9-8d17-080027326ca6_18
e78663f307f1        k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64                           "/dnsmasq-nanny -v..."   About an hour ago   Up About an hour                                                                         k8s_dnsmasq_kube-dns-54cccfbdf8-f5fbr_kube-system_aba5849a-2f94-11e9-8d17-080027326ca6_16
3939c59afc05        k8s.gcr.io/k8s-dns-kube-dns-amd64                                "/kube-dns --domai..."   About an hour ago   Up About an hour                                                                         k8s_kubedns_kube-dns-54cccfbdf8-f5fbr_kube-system_aba5849a-2f94-11e9-8d17-080027326ca6_17
4daa95bc07c9        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_kube-dns-54cccfbdf8-f5fbr_kube-system_aba5849a-2f94-11e9-8d17-080027326ca6_14
abe161ea0297        prom/prometheus                                                  "/bin/prometheus -..."   About an hour ago   Up About an hour                                                                         k8s_prometheus_prometheus-deployment-79c7cf44fc-6bkz4_monitoring_add0d617-2f94-11e9-8d17-080027326ca6_14
069e4fa667fe        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_prometheus-deployment-79c7cf44fc-6bkz4_monitoring_add0d617-2f94-11e9-8d17-080027326ca6_14
ad48eaff8b5b        k8s.gcr.io/kubernetes-dashboard-amd64                            "/dashboard --inse..."   About an hour ago   Up About an hour                                                                         k8s_kubernetes-dashboard_kubernetes-dashboard-77d8b98585-9cffv_kube-system_aae2ad11-2f94-11e9-8d17-080027326ca6_22
0fb62a2f9d5d        quay.io/kubernetes-ingress-controller/nginx-ingress-controller   "/usr/bin/dumb-ini..."   About an hour ago   Up About an hour                                                                         k8s_nginx-ingress-controller_nginx-ingress-controller-zjd74_kube-system_ab42b3da-2f94-11e9-8d17-080027326ca6_130
354969aeaf9c        k8s.gcr.io/heapster-grafana-amd64                                "/run.sh"                About an hour ago   Up About an hour                                                                         k8s_grafana_influxdb-grafana-tx55c_kube-system_ab1bc183-2f94-11e9-8d17-080027326ca6_14
a5403d9ef60e        k8s.gcr.io/defaultbackend                                        "/server"                About an hour ago   Up About an hour                                                                         k8s_default-http-backend_default-http-backend-cvzhd_kube-system_ab6b020b-2f94-11e9-8d17-080027326ca6_39
27a5fbb09517        gcr.io/google_containers/metrics-server-amd64                    "/metrics-server -..."   About an hour ago   Up About an hour                                                                         k8s_metrics-server_metrics-server-bb9ffc6b8-c4bsh_kube-system_ac742fe8-2f94-11e9-8d17-080027326ca6_15
53107aa5e856        gcr.io/kubernetes-helm/tiller                                    "/tiller"                About an hour ago   Up About an hour                                                                         k8s_tiller_tiller-deploy-5b7c59888b-6rbgl_kube-system_42cc5a34-3c10-11e9-a9d7-080027326ca6_40
316c636addfb        k8s.gcr.io/heapster-amd64                                        "/heapster --sourc..."   About an hour ago   Up About an hour                                                                         k8s_heapster_heapster-546c9964c6-2w8ld_kube-system_ac314ae9-2f94-11e9-8d17-080027326ca6_14
e7cf929b3bd9        k8s.gcr.io/heapster-amd64                                        "/heapster --sourc..."   About an hour ago   Up About an hour                                                                         k8s_heapster_heapster-xnbjb_kube-system_aafb3c7c-2f94-11e9-8d17-080027326ca6_14
38255662c071        k8s.gcr.io/heapster-influxdb-amd64                               "influxd --config ..."   About an hour ago   Up About an hour                                                                         k8s_influxdb_monitoring-influxdb-66946c9f58-h5lhw_kube-system_abf955f0-2f94-11e9-8d17-080027326ca6_14
3d0f2884b3f2        k8s.gcr.io/heapster-grafana-amd64                                "/run.sh"                About an hour ago   Up About an hour                                                                         k8s_grafana_monitoring-grafana-65757b9656-h4fbs_kube-system_abcaee65-2f94-11e9-8d17-080027326ca6_14
440a04d3e05b        k8s.gcr.io/heapster-influxdb-amd64                               "influxd --config ..."   About an hour ago   Up About an hour                                                                         k8s_influxdb_influxdb-grafana-tx55c_kube-system_ab1bc183-2f94-11e9-8d17-080027326ca6_14
fef3e79bf5c1        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_default-http-backend-cvzhd_kube-system_ab6b020b-2f94-11e9-8d17-080027326ca6_15
7e2de0aba5e8        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_kubernetes-dashboard-77d8b98585-9cffv_kube-system_aae2ad11-2f94-11e9-8d17-080027326ca6_14
9a2a9acb9644        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_tiller-deploy-5b7c59888b-6rbgl_kube-system_42cc5a34-3c10-11e9-a9d7-080027326ca6_7
6f4c31cbfe2a        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_heapster-xnbjb_kube-system_aafb3c7c-2f94-11e9-8d17-080027326ca6_14
7e17256ea125        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_metrics-server-bb9ffc6b8-c4bsh_kube-system_ac742fe8-2f94-11e9-8d17-080027326ca6_14
1555b7068929        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_heapster-546c9964c6-2w8ld_kube-system_ac314ae9-2f94-11e9-8d17-080027326ca6_14
fdcc304a5275        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_monitoring-grafana-65757b9656-h4fbs_kube-system_abcaee65-2f94-11e9-8d17-080027326ca6_14
96b826f91e99        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_monitoring-influxdb-66946c9f58-h5lhw_kube-system_abf955f0-2f94-11e9-8d17-080027326ca6_14
fbddc2bd45da        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour    0.0.0.0:80->80/tcp, 0.0.0.0:443->443/tcp, 0.0.0.0:18080->18080/tcp   k8s_POD_nginx-ingress-controller-zjd74_kube-system_ab42b3da-2f94-11e9-8d17-080027326ca6_14
e2fa100adab1        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_influxdb-grafana-tx55c_kube-system_ab1bc183-2f94-11e9-8d17-080027326ca6_14
fc93c2719604        gcr.io/google_containers/pause-amd64:3.0                         "/pause"                 About an hour ago   Up About an hour                                                                         k8s_POD_kube-addon-manager-minikube_kube-system_c4c3188325a93a2d7fb1714e1abf1259_14
d0cd715e5bd4        registry:2                                                       "/entrypoint.sh /e..."   2 days ago          Up About an hour    0.0.0.0:5000->5000/tcp                                               registry

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
d0cd715e5bd4        registry:2                                                       "/entrypoint.sh /e..."   2 days ago          Up About an hour    0.0.0.0:5000->5000/tcp                                               registry

/home/docker>





#
#
#
#
#
#
#
# ls
bin   dev  home  lib64  mnt  proc  run   srv  tmp  var
boot  etc  lib   media  opt  root  sbin  sys  usr
# cd /usr/share/nginx/html
# ls
50x.html  index.html
# vi mypage.html
sh: 11: vi: not found
# cls
sh: 12: cls: not found
# clear
# ^[[A^[[A^[[A^[[B
sh: 14: : not found
# vi mypage.html
sh: 15: vi: not found
# ps
sh: 16: ps: not found
# cat > mypage.html
<h1>My Home Page</h1>
^C
# ls
50x.html  index.html  mypage.html
# exit

/home/docker> docker container exec 2b58cd023552 ls /usr/share/nginx/html
50x.html
index.html
mypage.html

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
2b58cd023552        nginx                                                            "nginx -g 'daemon ..."   16 minutes ago      Up 16 minutes       0.0.0.0:8080->80/tcp                                                 inspiring_montalcini

/home/docker>

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
2b58cd023552        nginx                                                            "nginx -g 'daemon ..."   16 minutes ago      Up 16 minutes       0.0.0.0:8080->80/tcp                                                 inspiring_montalcini

/home/docker> docker container run -d -p 8081:80 nginx
1c90dc9f3a5108ce6adb5134f29730f2654ee02635d511278c0d298317c999e5

/home/docker> tracert
-bash: tracert: command not found

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
1c90dc9f3a51        nginx                                                            "nginx -g 'daemon ..."   About an hour ago   Up About an hour    0.0.0.0:8081->80/tcp                                                 jovial_shirley
2b58cd023552        nginx                                                            "nginx -g 'daemon ..."   About an hour ago   Up About an hour    0.0.0.0:8080->80/tcp                                                 inspiring_montalcini

/home/docker>

/home/docker> docker container exec 2b58cd023552 ls /usr/share/nginx/html
50x.html
index.html
mypage.html

/home/docker> docker container exec -it 2b58cd023552 bash
root@2b58cd023552:/# apt-get update
Get:1 http://security-cdn.debian.org/debian-security stretch/updates InRelease [94.3 kB]
Get:2 http://security-cdn.debian.org/debian-security stretch/updates/main amd64 Packages [476 kB]
Ign:3 http://cdn-fastly.deb.debian.org/debian stretch InRelease
Get:4 http://cdn-fastly.deb.debian.org/debian stretch-updates InRelease [91.0 kB]
Get:5 http://cdn-fastly.deb.debian.org/debian stretch Release [118 kB]
Get:6 http://cdn-fastly.deb.debian.org/debian stretch-updates/main amd64 Packages [11.1 kB]
Get:7 http://cdn-fastly.deb.debian.org/debian stretch Release.gpg [2434 B]
Get:8 http://cdn-fastly.deb.debian.org/debian stretch/main amd64 Packages [7084 kB]
Fetched 7876 kB in 9s (870 kB/s)
Reading package lists... Done
root@2b58cd023552:/# ping google.com
bash: ping: command not found
root@2b58cd023552:/# apt-get install iputils-ping
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  libcap2 libcap2-bin libidn11 libnettle6 libpam-cap
The following NEW packages will be installed:
  iputils-ping libcap2 libcap2-bin libidn11 libnettle6 libpam-cap
0 upgraded, 6 newly installed, 0 to remove and 0 not upgraded.
Need to get 421 kB of archives.
After this operation, 970 kB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Get:1 http://cdn-fastly.deb.debian.org/debian stretch/main amd64 libcap2 amd64 1:2.25-1 [16.8 kB]
Get:2 http://cdn-fastly.deb.debian.org/debian stretch/main amd64 libidn11 amd64 1.33-1 [115 kB]
Get:3 http://cdn-fastly.deb.debian.org/debian stretch/main amd64 libnettle6 amd64 3.3-1+b2 [192 kB]
Get:4 http://cdn-fastly.deb.debian.org/debian stretch/main amd64 iputils-ping amd64 3:20161105-1 [57.5 kB]
Get:5 http://cdn-fastly.deb.debian.org/debian stretch/main amd64 libcap2-bin amd64 1:2.25-1 [26.5 kB]
Get:6 http://cdn-fastly.deb.debian.org/debian stretch/main amd64 libpam-cap amd64 1:2.25-1 [13.5 kB]
Fetched 421 kB in 1s (339 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package libcap2:amd64.
(Reading database ... 7027 files and directories currently installed.)
Preparing to unpack .../0-libcap2_1%3a2.25-1_amd64.deb ...
Unpacking libcap2:amd64 (1:2.25-1) ...
Selecting previously unselected package libidn11:amd64.
Preparing to unpack .../1-libidn11_1.33-1_amd64.deb ...
Unpacking libidn11:amd64 (1.33-1) ...
Selecting previously unselected package libnettle6:amd64.
Preparing to unpack .../2-libnettle6_3.3-1+b2_amd64.deb ...
Unpacking libnettle6:amd64 (3.3-1+b2) ...
Selecting previously unselected package iputils-ping.
Preparing to unpack .../3-iputils-ping_3%3a20161105-1_amd64.deb ...
Unpacking iputils-ping (3:20161105-1) ...
Selecting previously unselected package libcap2-bin.
Preparing to unpack .../4-libcap2-bin_1%3a2.25-1_amd64.deb ...
Unpacking libcap2-bin (1:2.25-1) ...
Selecting previously unselected package libpam-cap:amd64.
Preparing to unpack .../5-libpam-cap_1%3a2.25-1_amd64.deb ...
Unpacking libpam-cap:amd64 (1:2.25-1) ...
Setting up libnettle6:amd64 (3.3-1+b2) ...
Setting up libcap2:amd64 (1:2.25-1) ...
Processing triggers for libc-bin (2.24-11+deb9u4) ...
Setting up libidn11:amd64 (1.33-1) ...
Setting up iputils-ping (3:20161105-1) ...
Setting up libpam-cap:amd64 (1:2.25-1) ...
debconf: unable to initialize frontend: Dialog
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 76.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.24.1 /usr/local/share/perl/5.24.1 /usr/lib/x86_64-linux-gnu/perl5/5.24 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.24 /usr/share/perl/5.24 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base .) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up libcap2-bin (1:2.25-1) ...
Processing triggers for libc-bin (2.24-11+deb9u4) ...
root@2b58cd023552:/# ping google.com
PING google.com (216.58.200.142) 56(84) bytes of data.
64 bytes from maa05s10-in-f14.1e100.net (216.58.200.142): icmp_seq=1 ttl=53 time=78.5 ms
64 bytes from maa05s10-in-f14.1e100.net (216.58.200.142): icmp_seq=2 ttl=53 time=74.3 ms
^C
--- google.com ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1002ms
rtt min/avg/max/mdev = 74.324/76.415/78.507/2.109 ms
root@2b58cd023552:/# exit
exit

/home/docker> #docker container exec -it 2b58cd023552 bash

/home/docker>

/home/docker> #docker container exec -it 2b58cd023552 bash

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
1c90dc9f3a51        nginx                                                            "nginx -g 'daemon ..."   About an hour ago   Up About an hour    0.0.0.0:8081->80/tcp                                                 jovial_shirley
2b58cd023552        nginx                                                            "nginx -g 'daemon ..."   About an hour ago   Up About an hour    0.0.0.0:8080->80/tcp                                                 inspiring_montalcini

/home/docker> docker commit 2b58cd023552 nginx-ping
sha256:1b0a35894d1f764d6be3dbc1dfab234e9811af89a9803d68576df1d7f9c9a28e

/home/docker> docker container rm -f 1c90dc9f3a51 2b58cd023552
1c90dc9f3a51
2b58cd023552

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES

/home/docker> docker container run -d 9999:80

/home/docker> docker container run -d -p 9999:80 nginx-ping
22cdc2b4c5f77ba4c56454008dbf9716e70aa6c3c7d60cded2156e6efa10ee99

/home/docker> docker container exec 22cdc2b4c5 ping google.com
PING google.com (216.58.200.142) 56(84) bytes of data.
64 bytes from maa05s10-in-f14.1e100.net (216.58.200.142): icmp_seq=1 ttl=53 time=81.4 ms
64 bytes from maa05s10-in-f14.1e100.net (216.58.200.142): icmp_seq=2 ttl=53 time=78.7 ms
^C



------------------------------------------------------------------
/home/docker> docker image history nginx:1.14
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
e706cb01fa6b        6 days ago          /bin/sh -c #(nop)  CMD ["nginx" "-g" "daem...   0B      
<missing>           6 days ago          /bin/sh -c #(nop)  STOPSIGNAL SIGTERM           0B      
<missing>           6 days ago          /bin/sh -c #(nop)  EXPOSE 80                    0B      
<missing>           6 days ago          /bin/sh -c ln -sf /dev/stdout /var/log/ngi...   22B     
<missing>           6 days ago          /bin/sh -c set -x  && apt-get update  && a...   53.8MB  
<missing>           6 days ago          /bin/sh -c #(nop)  ENV NJS_VERSION=1.14.2....   0B      
<missing>           6 days ago          /bin/sh -c #(nop)  ENV NGINX_VERSION=1.14....   0B      
<missing>           6 days ago          /bin/sh -c #(nop)  LABEL maintainer=NGINX ...   0B      
<missing>           6 days ago          /bin/sh -c #(nop)  CMD ["bash"]                 0B      
<missing>           6 days ago          /bin/sh -c #(nop) ADD file:5ea7dfe8c8bc87e...   55.3MB  

/home/docker>

/home/docker> docker image history nginx:alpine
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
32a037976344        3 days ago          /bin/sh -c #(nop)  CMD ["nginx" "-g" "daem...   0B      
<missing>           3 days ago          /bin/sh -c #(nop)  STOPSIGNAL SIGTERM           0B      
<missing>           3 days ago          /bin/sh -c #(nop)  EXPOSE 80                    0B      
<missing>           3 days ago          /bin/sh -c #(nop) COPY file:ebf4f0eb33621c...   1.09kB  
<missing>           3 days ago          /bin/sh -c #(nop) COPY file:4c82b9f10b84c5...   643B    
<missing>           3 days ago          /bin/sh -c GPG_KEYS=B0F4253373F8F6F510D421...   10.6MB  
<missing>           3 days ago          /bin/sh -c #(nop)  ENV NGINX_VERSION=1.15.9     0B      
<missing>           3 days ago          /bin/sh -c #(nop)  LABEL maintainer=NGINX ...   0B      
<missing>           3 days ago          /bin/sh -c #(nop)  CMD ["/bin/sh"]              0B      
<missing>           3 days ago          /bin/sh -c #(nop) ADD file:88875982b0512a9...   5.53MB  

/home/docker>

/home/docker> docker image ls
REPOSITORY                                                       TAG                 IMAGE ID            CREATED             SIZE
nginx-ping                                                       latest              1b0a35894d1f        About an hour ago   128MB
nginx                                                            alpine              32a037976344        3 days ago          16.1MB
registry                                                         2                   f32a97de94e1        3 days ago          25.8MB
adityaprabhakara/alasdf                                          3                   3ceae2ee17c2        5 days ago          10.4MB
127.0.0.1:5000/al-apache                                         3                   3ceae2ee17c2        5 days ago          10.4MB
pinger                                                           latest              e2f5c269c85f        5 days ago          5.53MB
app                                                              1                   36d8d73c6780        6 days ago          10.4MB
app                                                              latest              36d8d73c6780        6 days ago          10.4MB
nginx                                                            1.14                e706cb01fa6b        6 days ago          109MB
nginx                                                            1                   881bd08c0b08        6 days ago          109MB
nginx                                                            latest              881bd08c0b08        6 days ago          109MB
alap                                                             4                   f69208970b36        13 days ago         11.7MB
alap                                                             latest              f69208970b36        13 days ago         11.7MB
alap                                                             3                   b70e246237d6        13 days ago         11.7MB
akrb05/app                                                       1                   e532bddfcfdb        13 days ago         10.4MB
adityaprabhakara/app                                             1                   b2d4db48377b        13 days ago         11.7MB
alap                                                             2                   d58810f44044        13 days ago         11.7MB
alap                                                             1                   da090e1505f6        13 days ago         10.4MB
alpine-alpache                                                   latest              5d6cb3da3abe        13 days ago         10.4MB
gcr.io/kubernetes-helm/tiller                                    v2.13.0-rc.1        3df95e340abd        3 weeks ago         82.1MB
ghost                                                            1-alpine            4afbb5470d6c        4 weeks ago         450MB
mysql                                                            5.7                 e47e309f72c8        4 weeks ago         372MB
alpine                                                           3.9                 caf27325b298        5 weeks ago         5.53MB
alpine                                                           latest              caf27325b298        5 weeks ago         5.53MB
k8s.gcr.io/heapster-amd64                                        v1.5.3              f57c75cd7b0a        10 months ago       75.3MB
prom/prometheus                                                  v2.1.0              c8ecf7c719c1        13 months ago       112MB
gcr.io/google_containers/metrics-server-amd64                    v0.2.1              9801395070f3        14 months ago       42.5MB
k8s.gcr.io/kubernetes-dashboard-amd64                            v1.8.1              e94d2f21bc0c        15 months ago       121MB
k8s.gcr.io/heapster-amd64                                        v1.5.0              86a0ddc3a8c2        15 months ago       75.3MB
quay.io/kubernetes-ingress-controller/nginx-ingress-controller   0.9.0               e56d6a14283a        15 months ago       190MB
gcr.io/google-containers/kube-addon-manager                      v6.5                d166ffa9201a        16 months ago       79.5MB
k8s.gcr.io/defaultbackend                                        1.4                 846921f0fe0e        16 months ago       4.84MB
k8s.gcr.io/k8s-dns-sidecar-amd64                                 1.14.5              fed89e8b4248        17 months ago       41.8MB
k8s.gcr.io/k8s-dns-kube-dns-amd64                                1.14.5              512cd7425a73        17 months ago       49.4MB
k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64                           1.14.5              459944ce8cc4        17 months ago       41.4MB
k8s.gcr.io/heapster-influxdb-amd64                               v1.3.3              577260d221db        18 months ago       12.5MB
k8s.gcr.io/heapster-grafana-amd64                                v4.4.3              8cb3de219af7        18 months ago       152MB
gcr.io/google_containers/pause-amd64                             3.0                 99e59f495ffa        2 years ago         747kB
gcr.io/google_containers/hpa-example                             latest              4ca4c13a6d7c        3 years ago         481MB

/home/docker>

/home/docker> docker image inspect nginx:alpine
[
    {
        "Id": "sha256:32a03797634470821baafbbaa0c3feca63c3c63576415f71ecc8613c593d695c",
        "RepoTags": [
            "nginx:alpine"
        ],
        "RepoDigests": [
            "nginx@sha256:55390addbb1a2b82e6ffabafd72e0f5dfbc8f86c2e7d9f41fb914cca537bd500"
        ],
        "Parent": "",
        "Comment": "",
        "Created": "2019-03-08T03:05:16.991968397Z",
        "Container": "7665c5a8988b533f114ecdaeddac47f5639ca0293c981c0d8862ebdff0392bcc",
        "ContainerConfig": {
            "Hostname": "7665c5a8988b",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": false,
            "AttachStderr": false,
            "ExposedPorts": {
                "80/tcp": {}
            },
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "NGINX_VERSION=1.15.9"
            ],
            "Cmd": [
                "/bin/sh",
                "-c",
                "#(nop) ",
                "CMD [\"nginx\" \"-g\" \"daemon off;\"]"
            ],
            "ArgsEscaped": true,
            "Image": "sha256:bcf99c18e75c246616318b26d0b98e05ab7b26a0bf9548e501b37329a35a175f",
            "Volumes": null,
            "WorkingDir": "",
            "Entrypoint": null,
            "OnBuild": null,
            "Labels": {
                "maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"
            },
            "StopSignal": "SIGTERM"
        },
        "DockerVersion": "18.06.1-ce",
        "Author": "",
        "Config": {
            "Hostname": "",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": false,
            "AttachStderr": false,
            "ExposedPorts": {
                "80/tcp": {}
            },
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "NGINX_VERSION=1.15.9"
            ],
            "Cmd": [
                "nginx",
                "-g",
                "daemon off;"
            ],
            "ArgsEscaped": true,
            "Image": "sha256:bcf99c18e75c246616318b26d0b98e05ab7b26a0bf9548e501b37329a35a175f",
            "Volumes": null,
            "WorkingDir": "",
            "Entrypoint": null,
            "OnBuild": null,
            "Labels": {
                "maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"
            },
            "StopSignal": "SIGTERM"
        },
        "Architecture": "amd64",
        "Os": "linux",
        "Size": 16083956,
        "VirtualSize": 16083956,
        "GraphDriver": {
            "Data": {
                "LowerDir": "/var/lib/docker/overlay2/0773fed2cbf6b68c67fd3178db233143b4fd62e8dc942cdd8c7e3c531ba7067d/diff:/var/lib/docker/overlay2/99387d3c270df18c258dabd05a182465b1cd789adbe3b3ac72d528dd67a74236/diff:/var/lib/docker/overlay2/583d38ab04de3c58061005480275361c5923034b1046dcfa1944de7aac71978d/diff",
                "MergedDir": "/var/lib/docker/overlay2/f98c5b6f120b8dbbfde700ee02d0b628cc2bdb00e7d721fb05b4b66aa9bf21ae/merged",
                "UpperDir": "/var/lib/docker/overlay2/f98c5b6f120b8dbbfde700ee02d0b628cc2bdb00e7d721fb05b4b66aa9bf21ae/diff",
                "WorkDir": "/var/lib/docker/overlay2/f98c5b6f120b8dbbfde700ee02d0b628cc2bdb00e7d721fb05b4b66aa9bf21ae/work"
            },
            "Name": "overlay2"
        },
        "RootFS": {
            "Type": "layers",
            "Layers": [
                "sha256:bcf2f368fe234217249e00ad9d762d8f1a3156d60c442ed92079fa5b120634a1",
                "sha256:f0eec09e392be14fae9c8136c54423e20e155c201f00caa8b30b17125e074a92",
                "sha256:5a5c0a97649d547b6ffd22ef33e03a2f1ac7d6c9395a3777392cceae286c8f7b",
                "sha256:4a81df411d7f6a01051da244e8e40b2423ff791cce1a2d88d74e9b3b7b37b4da"
            ]
        },
        "Metadata": {
            "LastTagTime": "0001-01-01T00:00:00Z"
        }
    }
]

/home/docker>

/home/docker> docker image save nginx:alpine -o nginx-alpine

/home/docker> ls
nginx-alpine

/home/docker> mv nginx-alpine.tar
mv: missing destination file operand after 'nginx-alpine.tar'
Try 'mv --help' for more information.

/home/docker> mv nginx-alpine nginx-alpine.tar

/home/docker> ls
nginx-alpine.tar

/home/docker> mv nginx-alpine.tar /c/Users/Dell\ lap/docker-workshop/

/home/docker> docker image ls nginx-ping
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
nginx-ping          latest              1b0a35894d1f        2 hours ago         128MB

/home/docker>

/home/docker> docker image ls nginx-ping
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
nginx-ping          latest              1b0a35894d1f        2 hours ago         128MB

/home/docker> docker image push nginx-ping
The push refers to a repository [docker.io/library/nginx-ping]
f91ef4078c53: Preparing
3e9eb35b1c23: Preparing
c59b3ca455e3: Preparing
6744ca1b1190: Preparing
denied: requested access to the resource is denied

/home/docker> docker login
Login with your Docker ID to push and pull images from Docker Hub. If you don't have a Docker ID, head over to https://hub.docker.com to create one.
Username: adityaprabhakara
Password:
Login Succeeded

/home/docker> docker image push nginx-ping
The push refers to a repository [docker.io/library/nginx-ping]
f91ef4078c53: Preparing
3e9eb35b1c23: Preparing
c59b3ca455e3: Preparing
6744ca1b1190: Preparing
denied: requested access to the resource is denied

/home/docker> docker image push adityaprabhakara/nginx-ping

/home/docker> docker image ls nginx-ping
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
nginx-ping          latest              1b0a35894d1f        2 hours ago         128MB

/home/docker> #docker commit 2b58cd023552 nginx-ping

/home/docker> docker image tag nginx-ping:latest adityaprabhakara/nginx-ping:latest

/home/docker> docker image ls | grep nginx-ping
adityaprabhakara/nginx-ping                                      latest              1b0a35894d1f        2 hours ago         128MB
nginx-ping                                                       latest              1b0a35894d1f        2 hours ago         128MB

/home/docker> docker image push adityaprabhakara/nginx-ping
The push refers to a repository [docker.io/adityaprabhakara/nginx-ping]
f91ef4078c53: Pushed
3e9eb35b1c23: Pushed
c59b3ca455e3: Pushed
6744ca1b1190: Pushed
Patch https://registry-1.docker.io/v2/adityaprabhakara/nginx-ping/blobs/uploads/979eb2b1-f68f-4ba0-9721-d86da921bce1?_state=4dHntVSe8SscuYmF3zYsHdGuqZu_pGzx4ufh_W9DZUt7Ik5hbWUiOiJhZGl0eWFwcmFiaGFrYXJhL25naW54LXBpbmciLCJVVUlEIjoiOTc5ZWIyYjEtZjY4Zi00YmEwLTk3MjEtZDg2ZGE5MjFiY2UxIiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDE5LTAzLTExVDEwOjExOjM1LjM1NTcwMDAzMVoifQ%3D%3D: net/http: TLS handshake timeout

/home/docker>

----------------------------------------
/c/Users/Dell lap/docker-workshop/mar11/apache> cat Dockerfile
FROM alpine
RUN apk update
RUN apk add apache2

/c/Users/Dell lap/docker-workshop/mar11/apache> docker image build -f Dockerfile -t apache:1-alpine -t apache:latest .
Sending build context to Docker daemon  2.048kB
Step 1/3 : FROM alpine
 ---> 5cb3aa00f899
Step 2/3 : RUN apk update
 ---> Running in 0b587a481f74
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
v3.9.2-1-g592d872fb8 [http://dl-cdn.alpinelinux.org/alpine/v3.9/main]
v3.9.2-2-ge7dc3349a9 [http://dl-cdn.alpinelinux.org/alpine/v3.9/community]
OK: 9754 distinct packages available
 ---> a08c7d0d841e
Removing intermediate container 0b587a481f74
Step 3/3 : RUN apk add apache2
 ---> Running in a63651ca0b48
(1/6) Installing libuuid (2.33-r0)
(2/6) Installing apr (1.6.5-r0)
(3/6) Installing expat (2.2.6-r0)
(4/6) Installing apr-util (1.6.1-r5)
(5/6) Installing pcre (8.42-r1)
(6/6) Installing apache2 (2.4.38-r2)
Executing apache2-2.4.38-r2.pre-install
Executing busybox-1.29.3-r10.trigger
OK: 9 MiB in 20 packages
 ---> f1bee09fdf4b
Removing intermediate container a63651ca0b48
Successfully built f1bee09fdf4b
Successfully tagged apache:1-alpine
Successfully tagged apache:latest

/c/Users/Dell lap/docker-workshop/mar11/apache> docker image ls alpine
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
alpine              latest              5cb3aa00f899        3 days ago          5.53MB

/c/Users/Dell lap/docker-workshop/mar11/apache>

/c/Users/Dell lap/docker-workshop/mar11/apache> docker image ls apache:1-alpine
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
apache              1-alpine            f1bee09fdf4b        5 minutes ago       10.4MB

/c/Users/Dell lap/docker-workshop/mar11/apache> docker image ls | grep a08c7d0d841e

/c/Users/Dell lap/docker-workshop/mar11/apache> docker image ls -a| grep a08c7d0d841e
<none>                                                           <none>              a08c7d0d841e        6 minutes ago       6.84MB

/c/Users/Dell lap/docker-workshop/mar11/apache> docker image build -f Dockerfile -t apache:1-alpine -t apache:latest .
Sending build context to Docker daemon  2.048kB
Step 1/3 : FROM alpine
 ---> 5cb3aa00f899
Step 2/3 : RUN apk update
 ---> Using cache
 ---> a08c7d0d841e
Step 3/3 : RUN apk add apache2
 ---> Using cache
 ---> f1bee09fdf4b
Successfully built f1bee09fdf4b
Successfully tagged apache:1-alpine
Successfully tagged apache:latest

/c/Users/Dell lap/docker-workshop/mar11/apache> docker image build -f Dockerfile -t apache:1-alpine -t apache:latest .

/c/Users/Dell lap/docker-workshop/mar11/apache> docker image build --no-cache -f Dockerfile -t apache:1-alpine -t apache:latest .
Sending build context to Docker daemon  2.048kB
Step 1/3 : FROM alpine
 ---> 5cb3aa00f899
Step 2/3 : RUN apk update
 ---> Running in 666e17548b8e
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
v3.9.2-1-g592d872fb8 [http://dl-cdn.alpinelinux.org/alpine/v3.9/main]
v3.9.2-2-ge7dc3349a9 [http://dl-cdn.alpinelinux.org/alpine/v3.9/community]
OK: 9754 distinct packages available
 ---> 88f6b4b68376
Removing intermediate container 666e17548b8e
Step 3/3 : RUN apk add apache2
 ---> Running in 8a5871830143
(1/6) Installing libuuid (2.33-r0)
(2/6) Installing apr (1.6.5-r0)
(3/6) Installing expat (2.2.6-r0)
(4/6) Installing apr-util (1.6.1-r5)
(5/6) Installing pcre (8.42-r1)
(6/6) Installing apache2 (2.4.38-r2)
Executing apache2-2.4.38-r2.pre-install
Executing busybox-1.29.3-r10.trigger
OK: 9 MiB in 20 packages
 ---> a8b16ab3414b
Removing intermediate container 8a5871830143
Successfully built a8b16ab3414b
Successfully tagged apache:1-alpine
Successfully tagged apache:latest

/c/Users/Dell lap/docker-workshop/mar11/apache> docker image build --no-cache -f Dockerfile -t apache:1-alpine -t apache:latest .

/c/Users/Dell lap/docker-workshop/mar11/apache> docker image build -f Dockerfile -t apache:1-alpine -t apache:latest
"docker image build" requires exactly 1 argument.
See 'docker image build --help'.

Usage:  docker image build [OPTIONS] PATH | URL | -

Build an image from a Dockerfile

/c/Users/Dell lap/docker-workshop/mar11/apache> #docker image build -f Dockerfile -t apache:1-alpine -t apache:latest .

/c/Users/Dell lap/docker-workshop/mar11/apache> cd ..

/c/Users/Dell lap/docker-workshop/mar11> mkdir app

/c/Users/Dell lap/docker-workshop/mar11> cd app

/c/Users/Dell lap/docker-workshop/mar11/app> ls

/c/Users/Dell lap/docker-workshop/mar11/app> cat > mypage.html
<h1>My Page</h1>
^C

/c/Users/Dell lap/docker-workshop/mar11/app>

/c/Users/Dell lap/docker-workshop/mar11/app>

/c/Users/Dell lap/docker-workshop/mar11/app> cat > mypage.html
<h1> My Code </h1>
^C

/c/Users/Dell lap/docker-workshop/mar11/app>

/c/Users/Dell lap/docker-workshop/mar11/app> ls
mypage.html

/c/Users/Dell lap/docker-workshop/mar11/app> vi Dockerfile

/c/Users/Dell lap/docker-workshop/mar11/app>

/c/Users/Dell lap/docker-workshop/mar11/app> cat Dockerfile
FROM apache:1-alpine
COPY mypage.html /var/www/localhost/htdocs/

/c/Users/Dell lap/docker-workshop/mar11/app> cat mypage.html
<h1> My Code </h1>

/c/Users/Dell lap/docker-workshop/mar11/app> docker image build -t app:1 -t app:latest .
Sending build context to Docker daemon  3.072kB
Step 1/2 : FROM apache:1-alpine
 ---> a8b16ab3414b
Step 2/2 : COPY mypage.html /var/www/localhost/htdocs/
 ---> 818d51217c7b
Successfully built 818d51217c7b
Successfully tagged app:1
Successfully tagged app:latest

/c/Users/Dell lap/docker-workshop/mar11/app> vi Dockerfile

/c/Users/Dell lap/docker-workshop/mar11/app> docker image build -t app:1 -t app:latest .
Sending build context to Docker daemon  3.072kB
Step 1/2 : FROM apache:1-alpine
 ---> a8b16ab3414b
Step 2/2 : COPY my.html /var/www/localhost/htdocs/
COPY failed: stat /var/lib/docker/tmp/docker-builder523916302/my.html: no such file or directory

/c/Users/Dell lap/docker-workshop/mar11/app>

/c/Users/Dell lap/docker-workshop/mar11/app> docker image build -t app:1 -t app:latest .
Sending build context to Docker daemon  3.072kB
Step 1/2 : FROM apache:1-alpine
 ---> a8b16ab3414b
Step 2/2 : COPY my.html /var/www/localhost/htdocs/
COPY failed: stat /var/lib/docker/tmp/docker-builder161874453/my.html: no such file or directory

/c/Users/Dell lap/docker-workshop/mar11/app> vi Dockerfile

/c/Users/Dell lap/docker-workshop/mar11/app>

/c/Users/Dell lap/docker-workshop/mar11/app> cd ..

/c/Users/Dell lap/docker-workshop/mar11> ls -ltrR
.:
total 0
drwxrwxrwx 1 docker docker 0 Mar 11 10:45 apache
drwxrwxrwx 1 docker docker 0 Mar 11 11:10 app

./apache:
total 1
-rwxrwxrwx 1 docker docker 47 Mar 11 10:45 Dockerfile

./app:
total 1
-rwxrwxrwx 1 docker docker 19 Mar 11 11:07 mypage.html
-rwxrwxrwx 1 docker docker 65 Mar 11 11:12 Dockerfile

/c/Users/Dell lap/docker-workshop/mar11> cat Do
cat: Do: No such file or directory

/c/Users/Dell lap/docker-workshop/mar11> cat app/Dockerfile
FROM apache:1-alpine
COPY mypage.html /var/www/localhost/htdocs/

/c/Users/Dell lap/docker-workshop/mar11>
